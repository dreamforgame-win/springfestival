import { NpcType, BattleTopic } from "../types";

// Removed GoogleGenAI import as we are using preset dialogues now.

const DIALOGUE_LIBRARY: Record<BattleTopic, string[]> = {
  [BattleTopic.MARRIAGE]: [
    "你看你表妹孩子都会打酱油了，你还一个人飘着，过年回家也不嫌丢人，我看你就是眼光太高！",
    "三十好几的人了，还不赶紧找个伴？再拖下去好白菜都被猪拱了，到时候哭都来不及！",
    "别跟我说缘分未到，我看你就是态度不端正！隔壁王阿姨手里正好有个离异带娃的，要不你见见？",
    "天天就知道玩手机，对象能从手机里蹦出来吗？我要是你爸妈，早就愁得睡不着觉了！",
    "你是不是有什么难言之隐啊？有病得治，别讳疾忌医，咱们老李家的香火可不能断在你手里！",
    "每年回来都是一个人，你不烦我都烦了。明年要是再带不回个对象，这红包你也别想要了！"
  ],
  [BattleTopic.SALARY]: [
    "在大城市累死累活，一年到底能存几个钱？还不如回老家考个公务员，安安稳稳多好！",
    "听说你那发小现在都开上宝马了，你看看你，坐高铁还得抢二等座，这差距咋就这么大呢？",
    "别跟我谈什么理想，理想能当饭吃吗？工资条拿出来看看，还没我家保姆挣得多，丢不丢人？",
    "你这工作听着体面，实际到手没几个子儿吧？现在的年轻人就是死要面子活受罪，虚荣！",
    "一个月挣那一万块钱有什么用？除掉房租水电饭钱，还能剩下个啥？我看你连个厕所都买不起！",
    "都在外面混了这么多年了，给家里买过什么像样的东西吗？养你这么大，真是一点福都享不到！"
  ],
  [BattleTopic.JOB]: [
    "私企那是人待的地方吗？那是吃青春饭！等过了35岁把你一裁，我看你到时候去哪哭！",
    "还不赶紧去考编？现在宇宙尽头是体制内，你那种工作随时倒闭，一点抗风险能力都没有！",
    "整天加班加班，也没见你加出个首富来。身体搞垮了，公司赔你钱吗？真是读书读傻了！",
    "你那工作说出去都没人知道是干啥的，哪像你堂哥，在税务局上班，说出去多有面子！",
    "别总觉得自己了不起，在社会上你就是个打工的。没有编制，你在这个城市就没有根！",
    "我看你这工作也就那样，趁早辞了回来找个厂上班，好歹离家近，还能照顾照顾父母！"
  ],
  [BattleTopic.HEALTH]: [
    "瞅瞅你这脸色，蜡黄蜡黄的，是不是天天熬夜修仙？再这样下去，还没老就先垮了！",
    "年纪轻轻的这就喘上了？平时肯定不锻炼吧。看看你这肚子，跟怀了五个月似的，像什么话！",
    "别仗着年轻就胡吃海喝，现在不养生，老了养医生。到时候一身病，拖累的还是我们！",
    "我看你这发际线都快退到后脑勺了，工作压力这么大？赚那点钱够植发吗？真是让人操心！",
    "整天点外卖吃那些垃圾食品，全是地沟油！你看看你脸上长的痘，多恶心，谁还看得上你？",
    "现在的年轻人身体素质是一代不如一代，跑两步就喘，让你搬个东西都费劲，真是废了！"
  ],
  [BattleTopic.GRADES]: [
    "才考这么点分？你看看隔壁小明，闭着眼睛都比你考得高，你对得起你爸妈交的学费吗？",
    "研究生读完了又怎么样？现在满大街都是研究生。要是找不到好工作，这书算是白读了！",
    "听说你挂科了？哎哟喂，这以后档案上有了污点，哪个单位还敢要你？这辈子算是毁了！",
    "别以为考上大学就万事大吉了，现在的大学生一抓一大把，在这个社会上也就是个文盲！",
    "你看看你表姐，从小就是学霸，现在年薪百万。再看看你，从小玩泥巴，现在还在玩泥巴！",
    "书读得越多越傻，连个人情世故都不懂。高分低能说的就是你这种人，以后也是个书呆子！"
  ],
  [BattleTopic.LIFE]: [
    "整天窝在家里不出门，都要发霉了！多出去走走，认识点朋友不行吗？",
    "你看你这屋子乱的，跟猪窝一样，也不知道收拾收拾，以后谁受得了你？",
    "别整天抱着个手机嘿嘿傻笑，现实生活里也要这么开心才行啊！",
    "做人要圆滑一点，别总是直来直去的，容易得罪人，到时候吃亏的是自己！",
    "多学点人情世故，别像个木头一样，见了长辈也不知道叫人，没礼貌！",
    "你也老大不小了，该懂事了，别总让我们为你操心，我们还能陪你几年？"
  ],
  // School Topics
  [BattleTopic.EXAM]: [
    "最后一道大题空着？你脑子也被空着了吗？",
    "这次平均分90，你考89，你就是全班的后腿！",
    "看什么看？答案在脸上吗？低头写卷子！",
    "选择题全选C？你当是抽奖呢？",
    "这道题我讲过八百遍了，就算是头猪也该学会了吧！",
    "不想考就出去，别在这里浪费大家时间！"
  ],
  [BattleTopic.DISCIPLINE]: [
    "整个走廊就听见你的声音，嗓门大了不起啊？",
    "校服拉链拉好！这里是学校，不是菜市场！",
    "头发留这么长想干嘛？去唱戏吗？明天给我剪了！",
    "站没站相，坐没坐相，你骨头是软的吗？",
    "手里拿的什么？手机？交出来！叫家长！",
    "又是你迟到！把班规给我抄一百遍！"
  ],
  [BattleTopic.FUTURE]: [
    "现在不好好学习，以后就只能去搬砖！",
    "你看看人家，已经在准备保送了，你还在为及格发愁。",
    "高考是千军万马过独木桥，你这种态度早就掉河里了！",
    "少壮不努力，老大徒伤悲。你现在偷的懒，以后都要还！",
    "别跟我谈梦想，分数才是硬道理。没分你什么都不是！",
    "你这种成绩，以后连职高都考不上，趁早回家种地吧！"
  ],
  // Company Topics
  [BattleTopic.KPI]: [
    "这个月的KPI要是完不成，大家都别想拿奖金！",
    "看看你的数据，简直惨不忍睹，你还有脸坐在这？",
    "公司不养闲人，业绩不达标的自己递辞呈！",
    "别跟我找借口，我只看结果！结果呢？！",
    "把这份报表拿回去重做，这种垃圾也敢交给我？",
    "如果你不能为公司创造价值，那公司为什么要留你？"
  ],
  [BattleTopic.DEADLINE]: [
    "今晚下班前必须给我，给不出来就别下班！",
    "客户已经在催了，你还在磨磨蹭蹭干什么？",
    "时间就是金钱！你浪费的一分钟，就是公司的损失！",
    "怎么还没做完？我昨天不是交代了吗？效率太低了！",
    "最后十分钟，交不出来就卷铺盖走人！",
    "别跟我说做不完，那是你的问题，不是我的问题！"
  ],
  [BattleTopic.OVERTIME]: [
    "大家都在加班，就你走得早，工作很饱和吗？",
    "年轻人要多吃苦，996是福报，懂不懂？",
    "周六来公司加个班，把这个项目赶一下，不算加班费。",
    "现在的年轻人真娇气，加个班就叫苦连天。",
    "想准时下班？那你去考公务员啊！",
    "把公司当家，多待一会怎么了？电费又不要你出！"
  ],
  [BattleTopic.BLAME]: [
    "这肯定不是我的问题，需求文档上就是这么写的！",
    "测试没测出来Bug，上线了怪开发？有没有搞错！",
    "这是上一个离职同事留下的坑，凭什么让我背锅？",
    "运营活动方案有问题，技术支持也没办法啊！",
    "服务器崩了是阿里云的问题，跟我有什么关系？",
    "我早就说这样做不行，你们非不听，现在出事了怪谁？"
  ]
};

export const generateNpcTaunt = async (npcType: NpcType, topic: BattleTopic): Promise<string> => {
  // Simulate a small delay for dramatic effect, then return from preset list
  return new Promise((resolve) => {
    setTimeout(() => {
      const options = DIALOGUE_LIBRARY[topic];
      const randomTaunt = options[Math.floor(Math.random() * options.length)];
      resolve(randomTaunt);
    }, 600);
  });
};